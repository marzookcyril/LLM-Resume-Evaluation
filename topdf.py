from json2html import *
import json
import tempfile
import pdfkit

class PdfConverter(object):

    def __init__(self):
        pass

    def to_html(self, json_doc):
        return json2html.convert(json=json_doc)

    def to_pdf(self, html_str):
        return pdfkit.from_string(html_str, None)


stowflw =  {"basics": {"name": "John Doe", "label": "Programmer", "image": "", "email": "john@gmail.com", "phone": "(912) 555-4321", "url": "https://johndoe.com", "summary": "A summary of John Doe\u2026", "location": {"address": "2712 Broadway St", "postalCode": "CA 94115", "city": "San Francisco", "countryCode": "US", "region": "California"}, "profiles": [{"network": "Twitter", "username": "john", "url": "https://twitter.com/john"}]}, "work": [{"name": "ASPEE Promotion", "position": "Assistant", "url": "https://company.com", "startDate": "01-2010", "endDate": "02-2011", "highlights": ["", "-Analyzed data and created presentations to promote store openings", "-Gathered and compiled information for real estate approval meetings", "-Successfully negotiated temporary store locations and storage deals"], "Summary": "This is a summary that will be soon be subject to the Elexir"}, {"name": "Pierre De Larmina Conseil", "position": "Consultant communication", "url": "https://company.com", "startDate": "01-2014", "endDate": "02-2015", "highlights": [" ", "- Ideation and execution of a successful marketing campaign that resulted in increased awareness of the brand among farmers. ", "- Organized and coordinated a trade show for farmers which led to an increase in sales. ", "- Managed an online marketing campaign that engaged and grew the producer community. ", "-Successfully coordinating team members to carry out assigned tasks related to the marketing campaign."], "Summary": "This is a summary that will be soon be subject to the Elexir"}, {"name": "Etude notariale de la wantzenau", "position": "Assistant clerc notaire", "url": "https://company.com", "startDate": "09-2015", "endDate": "10-2015", "highlights": ["", "", "-Analyzed data and created presentations to promote store openings", "-Filled out and organized paperwork for store development projects"], "Summary": "This is a summary that will be soon be subject to the Elexir"}, {"name": "ACT web", "position": "Assistant chef de projet", "url": "https://company.com", "startDate": "05-2016", "endDate": "06-2016", "highlights": ["", "", "-Implemented SEO techniques to improve web ranking on search engines", "-Created and monitored Google Ads campaigns", "-Optimized keywords for optimal performance", "-Analyzed data to identify areas for improvement", "-Developed websites and applications"], "Summary": "This is a summary that will be soon be subject to the Elexir"}, {"name": "CREDIT AGRICOLE, CORPORATE & INVESTMENT BANK", "position": "Customer Operations Officer Internship", "url": "https://company.com", "startDate": "02-2018", "endDate": "07-2018", "highlights": ["", "-Managed and reconciled confirmations (FX, MM, Swift), followed up on the validation of confirmations and configured funds", "-Interfaced with various teams (FO/MO/BO), fixed NDFs, and processed disputes"], "Summary": "This is a summary that will be soon be subject to the Elexir"}, {"name": "ASPEE Promotion", "position": "Assistant", "url": "https://company.com", "startDate": "01-2010", "endDate": "02-2011", "highlights": ["", "-Analyzed data and created presentations for promotional purposes", "-Filled out excel spreadsheet and documents"], "Summary": "This is a summary that will be soon be subject to the Elexir"}, {"name": "Pierre De Larmina Conseil", "position": "Consultant communication", "url": "https://company.com", "startDate": "01-2014", "endDate": "02-2015", "highlights": ["", "- Led communication campaign that resulted in increased awareness of the agricultural sector among the general public", "- Ideation and development of advertising campaigns", "- Organized trade fair for farmers which resulted in greater networking and collaboration opportunities", "- Developed online marketing campaign that successfully engaged potential customers"], "Summary": "This is a summary that will be soon be subject to the Elexir"}, {"name": "Etude notariale de la wantzenau", "position": "Assistant clerc notaire", "url": "https://company.com", "startDate": "09-2015", "endDate": "10-2015", "highlights": ["", "- Reviewed and analyzed data in Excel spreadsheets", "- Created PowerPoint presentations for promotional purposes", "- Filled out required paperwork and documentation"], "Summary": "This is a summary that will be soon be subject to the Elexir"}, {"name": "ACT web", "position": "Assistant chef de projet", "url": "https://company.com", "startDate": "05-2016", "endDate": "06-2016", "highlights": [" ", "-SEO: Modifying and analyzing web pages to improve SEO, running Google Ads campaigns (SEA), keyword optimization, data analysis", "-Web Development: Developing applications and websites, creating HTML newsletters, designing CRM interfaces, defining digital and business strategies"], "Summary": "This is a summary that will be soon be subject to the Elexir"}, {"name": "CREDIT AGRICOLE, CORPORATE & INVESTMENT BANK", "position": "Customer Operations Officer Internship", "url": "https://company.com", "startDate": "02-2018", "endDate": "07-2018", "highlights": ["", "-Managed and reconciled confirmations (FX, MM, Swift), follow-up of confirmation validation and fund configuration", "-Interfaced with various teams (FO/MO/BO), fixed NDFs, processed disputes"], "Summary": "This is a summary that will be soon be subject to the Elexir"}, {"name": "ASPEE Promotion", "position": "Assistant", "url": "https://company.com", "startDate": "01-2010", "endDate": "02-2011", "highlights": ["", "- Actively participated in market trend analysis and research, utilizing strong Excel skills to maintain and update detailed quantitative data sets", "- Demonstrated excellent communication abilities by successfully creating promotional materials such as presentations and reports", "- Managed a high volume of paperwork and documentation efficiently and effectively"], "Summary": "This is a summary that will be soon be subject to the Elexir"}, {"name": "Pierre De Larmina Conseil", "position": "Consultant communication", "url": "https://company.com", "startDate": "01-2014", "endDate": "02-2015", "highlights": ["", "- Led campaign to increase awareness of agricultural products among urban youth through print, online, and experiential marketing initiatives", "- Ideated and executed promotional campaigns for new product launches targeting key demographics", "- Organized trade show which resulted in increased brand recognition and sales for participating farmers", "- Managed team of marketing professionals to coordinate efforts and maximize results"], "Summary": "This is a summary that will be soon be subject to the Elexir"}, {"name": "Etude notariale de la wantzenau", "position": "Assistant clerc notaire", "url": "https://company.com", "startDate": "09-2015", "endDate": "10-2015", "highlights": ["", "", "- Assisted with sales, trading, and hedging activities as a summer associate at Bank of America's Global Markets business", "- Helped to originate, structure, and model transactions", "- Assessed market trends and provided quantitative data for clients", "- Performed market and quantitative research analysis"], "Summary": "This is a summary that will be soon be subject to the Elexir"}, {"name": "ACT web", "position": "Assistant chef de projet", "url": "https://company.com", "startDate": "05-2016", "endDate": "06-2016", "highlights": ["", "- Conducted SEO by modifying and analyzing web pages to identify ways to improve SEO", "- Planned and executed advertising campaigns on Google Ads (SEA) and keyword optimization", "- Analyzed data, developed applications and websites, created HTML newsletters, designed CRM interfaces, defined digital and business strategies"], "Summary": "This is a summary that will be soon be subject to the Elexir"}, {"name": "CREDIT AGRICOLE, CORPORATE & INVESTMENT BANK", "position": "Customer Operations Officer Internship", "url": "https://company.com", "startDate": "02-2018", "endDate": "07-2018", "highlights": ["", "-Assisted with sales, trading, and hedging activities as part of Bank of America's Global Markets business", "-Originated, structured, and modeled transactions", "-Assessed market trends and provided quantitative data for clients", "-Performed market and quantitative research analysis"], "Summary": "This is a summary that will be soon be subject to the Elexir"}], "volunteer": [], "education": [], "awards": [], "certificates": [], "publications": [], "skills": [], "languages": [], "interests": [], "references": [], "projects": []}

pdfc = PdfConverter()
with open("sample.pdf", "wb") as pdf_fl:
    pdf_fl.write(pdfc.to_pdf(pdfc.to_html(json.dumps(stowflw))))